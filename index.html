<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>簡単ファイル管理</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #4285f4;
            padding-bottom: 10px;
        }
        ul {
            list-style-type: none;
            padding-left: 10px;
        }
        li {
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 4px;
        }
        li:hover {
            background-color: #f0f0f0;
        }
        a {
            color: #333;
            text-decoration: none;
            display: block;
        }
        a:hover {
            color: #4285f4;
        }
        .edit-panel {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
        input, button {
            padding: 8px;
            margin: 5px 0;
        }
        button {
            background-color: #4285f4;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #3367d6;
        }
        .password-panel {
            text-align: center;
            margin: 50px auto;
            max-width: 300px;
        }
        #fileList {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>ファイルリンク集</h1>
    
    <div id="viewMode">
        <ul id="fileList">
            <!-- ファイルリンクがここに表示されます -->
        </ul>
        <button id="editButton">編集モード</button>
    </div>
    
    <div id="passwordPanel" class="password-panel">
        <h2>パスワードを入力してください</h2>
        <input type="password" id="passwordInput" placeholder="パスワード">
        <button id="submitPassword">ログイン</button>
    </div>
    
    <div id="editMode" class="edit-panel">
        <h2>ファイル追加</h2>
        <div>
            <input type="text" id="fileName" placeholder="ファイル名（例：document.pdf）">
            <input type="text" id="fileTitle" placeholder="表示名（例：企画書）">
            <button id="addFile">追加</button>
        </div>
        <button id="saveChanges">保存して終了</button>
    </div>

    <script>
        // パスワード設定（実際の使用時は変更してください）
        const correctPassword = "admin123";
        
        // DOMが読み込まれた後に実行
        document.addEventListener('DOMContentLoaded', function() {
            const passwordPanel = document.getElementById('passwordPanel');
            const viewMode = document.getElementById('viewMode');
            const editMode = document.getElementById('editMode');
            const fileList = document.getElementById('fileList');
            
            // 保存されたファイルリンクを読み込む
            loadFileLinks();
            
            // 編集ボタンをクリック
            document.getElementById('editButton').addEventListener('click', function() {
                viewMode.style.display = 'none';
                passwordPanel.style.display = 'block';
            });
            
            // パスワード送信
            document.getElementById('submitPassword').addEventListener('click', function() {
                const password = document.getElementById('passwordInput').value;
                
                if (password === correctPassword) {
                    passwordPanel.style.display = 'none';
                    editMode.style.display = 'block';
                } else {
                    alert('パスワードが間違っています');
                }
            });
            
            // ファイル追加
            document.getElementById('addFile').addEventListener('click', function() {
                const fileName = document.getElementById('fileName').value.trim();
                const fileTitle = document.getElementById('fileTitle').value.trim() || fileName;
                
                if (fileName) {
                    // ファイルリンクを追加
                    addFileLink(fileName, fileTitle);
                    
                    // 入力欄をクリア
                    document.getElementById('fileName').value = '';
                    document.getElementById('fileTitle').value = '';
                } else {
                    alert('ファイル名を入力してください');
                }
            });
            
            // 変更を保存して終了
            document.getElementById('saveChanges').addEventListener('click', function() {
                saveFileLinks();
                editMode.style.display = 'none';
                viewMode.style.display = 'block';
            });
        });
        
        // ファイルリンクを追加する関数
        function addFileLink(fileName, fileTitle) {
            const fileList = document.getElementById('fileList');
            const li = document.createElement('li');
            li.innerHTML = `<a href="${fileName}">${fileTitle}</a>`;
            fileList.appendChild(li);
        }
        
        // ファイルリンクを保存する関数
        function saveFileLinks() {
            const fileList = document.getElementById('fileList');
            const links = [];
            
            // すべてのリンクを配列に保存
            fileList.querySelectorAll('li').forEach(function(li) {
                const a = li.querySelector('a');
                if (a) {
                    links.push({
                        href: a.getAttribute('href'),
                        title: a.textContent
                    });
                }
            });
            
            // ローカルストレージに保存
            localStorage.setItem('fileLinks', JSON.stringify(links));
        }
        
        // 保存されたファイルリンクを読み込む関数
        function loadFileLinks() {
            const fileList = document.getElementById('fileList');
            const savedLinks = localStorage.getItem('fileLinks');
            
            if (savedLinks) {
                const links = JSON.parse(savedLinks);
                
                // リンクを表示
                links.forEach(function(link) {
                    addFileLink(link.href, link.title);
                });
            }
        }
    </script>
</body>
</html>
